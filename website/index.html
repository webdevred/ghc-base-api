<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GHC Base Versions</title>
<style>
  body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; }
  h1 { text-align: center; }
  table { border-collapse: collapse; width: 100%; margin-top: 20px; }
  th, td { border: 1px solid #ccc; padding: 8px 12px; text-align: left; }
  th { background-color: #f0f0f0; }
  tbody tr:nth-child(even) { background-color: #fafafa; }
</style>
</head>
<body>
<h1>GHC â†’ Base Versions</h1>
<p>This is a list of GHC versions and their corresponding base versions. Data is loaded from a JSON API.</p>

<table id="ghc-table">
  <thead>
    <tr>
      <th>GHC</th>
      <th>Base</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
  // Load JSON from the same repo
  fetch('ghc_base_versions.json')
    .then(response => {
      if (!response.ok) throw new Error("Failed to load JSON");
      return response.json();
    })
    .then(data => {
      const tbody = document.querySelector('#ghc-table tbody');
      data.forEach(entry => {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${entry.ghc}</td><td>${entry.base || ''}</td>`;
        tbody.appendChild(tr);
      });
    })
    .catch(error => {
      console.error("Error loading JSON:", error);
      const tbody = document.querySelector('#ghc-table tbody');
      const tr = document.createElement('tr');
      tr.innerHTML = `<td colspan="2">Failed to load data</td>`;
      tbody.appendChild(tr);
    });
</script>
</body>
</html>
